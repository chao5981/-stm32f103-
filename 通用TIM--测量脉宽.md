  这一节主要讲解捕获寄存器

  根据之前的了解，我们已知通用TIM和高级TIM有输入捕获/互补输出的功能。这里附上一张输入捕获的流程示意图：

  ![image](https://github.com/user-attachments/assets/b1806d47-c393-4db6-b3cd-f7ccca6a9924)

  输入捕获的原理很简单，信号从输入引脚(TIMx_CHy)进来，经过滤波和预分频后，如果信号达到触发源设置的条件，计数器(CNT)会把当前的值存入捕获寄存器(CCR)中，我们把前后俩次存储的值读出来，然后作差，我们就可以算出一个值。我们就可以利用信号总会有上升沿和下降沿的特性，去测量一个信号的脉宽或者频率。

  那么程序上如何实现计算时间？我们可以利用捕获寄存器可以生成中断，，当捕获寄存器捕获到数据时,进到中断里面把数据读取出来，然后等第二次捕获到数据时再进去一次中断，再取出来，然后讲俩个值做差，理论上就可以得到脉宽或者频率的值。

  但实际上只是这样操作的话存在一些问题，如果脉宽/频率的时间超出了计数器的计数值，计数器数到头了直接重来了，计算的差值不久是错的吗。所以我们不仅仅需要开启捕获寄存器的中断，还要开启计数器的中断，当计数器完成一个计数周期时，用一个变量记录一下，后面算脉宽/频率时一起加起来。

  现在介绍一下输入捕获的原理图：

      1.输入通道(TIMx_CHy):要测量的信号从这里进入
      2.边缘检测器：这里你可以配置上升沿有效还是下降沿有效，
