I2C的基本通信原理，我想必大家在C51系列已经有了初步的了解

但是在C51中，我们主要是学习了I2C协议发送数据的时序是如何编写的，而在固件库中，这个时序已经被封装在了I2C_SendData()和I2C_ReceiveData()里面了。

在实际工程中，我们通常需要连续写；连续读；写入小数；读出小数等处理，光靠调用I2C_SendData()和I2C_ReceiveData()函数很明显是有点麻烦了，因此，我们还需要把它封装一下。

在编写之前，我们先看看在stm32中I2C的框架图
![image](https://github.com/user-attachments/assets/bf95f9d9-487c-430e-8dc4-a1abcbdbef12)

引脚还是和C51的一样，一个是SDA用于数据的传输和读取;一个是SCL用于控制时间。而且不难发现在SCL下面连着中断，在实际工程运用当中，I2C一般是写在中断中进行收发数据的，这样可以极大的减少CPU的占用(因为等待事件while循环会一直卡在哪里，后面你将会认识到),在这里我就直接写在主函数里了，如果大家有时间可以自己尝试一下。

I2C有主模式和从模式，主模式就是stm32作为主机，掌握着数据收发大权，它说收就收，说发就发，大家都得听他的(你可以理解为S);从机模式就是stm32为被接受者，别人要求你收数据你就收，要求你发你就得发，它得听别人的(你可以理解为M)。在这个实验中，我们是以stm32为主机，EEPROM外设为从机。


