再stm32f103中，中断可以被分为俩种，一种是内部中断，一种是外部中断。

这一节我们只讲外部中断。

外部中断的实现需要俩个控制器共同实现，一个是NVIC(嵌套向量中断控制器);一个是EXTI(外部中断/事件控制器)。

这俩个是如何工作的呢，简单来说，NVIC是用来配置中断的优先级的，就像是51单片机中调用中断时的"interrupt x"中的"x";而EXTI是负责检测外部引脚的电平变化（如按键、GPIO 边沿触发），并生成中断请求信号给NVIC。

这里我们需要的是外设中断，关键是弄懂EXTI控制器是如何工作的，原理图如图所示。
![image](https://github.com/user-attachments/assets/2ca12bfc-abe3-4ee4-9ca7-9b3723444e02)
红色的是中断线，我先讲解中断线。

输入线连接上一个外设(例如按键等)，外设电平的变化会被输入线检测到并且传递给边沿检测电路;如图所示，边沿检测电路中连接着俩个寄存器上升沿触发选择寄存器 (EXTI_RTSR) 和下降沿触发选择寄存器 (EXTI_FTSR),它相当于一个检验工具，
存储着你预设的"正确答案"，只有输入线中的电平变化和边沿检测电路的变化一致，它才会发出有效信号，否则无效。例如：你要求当按键的电平从0变化到1才能触发中断，你把这个"正确答案"存入到EXTI_FTSR寄存器中，并把输入线连接到了按键
上，当输入线传来的引脚信号是从1变成了0，和边沿检测电路的不一致，那么就发出无效信号，若传来的信号是从0到1，和边沿检测电路的信号一致，它才会向后面发出有效信号;  接着到达编号3，编号3是一个或门电路，
